var Canvas = require('canvas')
, canvas = new Canvas(640,480*3)
  , ctx = canvas.getContext('2d');


var cos = require('SpiderScrawl').cosmicos;
var ss = new cos.SpiderScrawl(ctx,canvas.width,canvas.height);
ss.addString("00010223300011022330001110223300011110223300011111022330001111110223300011111110 22330001111111102233000111111111022330001111111111022330001111111111102233000111 11111111102233000111111111111102233000111111111111110223300011111111111111102233 00011111111111111110223300011022330001110223300011111022330001111111022330001111 11111110223300011111111111110223300010223300011110223300011111111102233000111111 11111111110223301100100102233011001100110223301100111001110223301100111100111102 23301100111110011111022330110011111100111111022330110011111110011111110223301100 11111111001111111102233011001001022330110011111100111111022330110011001102233011 00100102233011100110010223301110011100102233011100111100102233010010011022330110 01100110223301110011100110223301110011110011022330100100111022330100110011102233 01100111001110223301110011110011102233010010011110223301001100111102233010011100 11110223301100111100111102233011100100022330111001111111110011022330111001111110 00223301110011000223301110011111111001102233011100111100102233011100110002233011 10011111111110010223301110011111100102233011100111111111001022330111001111111001 02233010000102233010011100111111111102233010011110011111111102233010011001111022 33010010011111110223301000011111111110223301000011022330100001102233010010011102 23301001100111110223301001001111022332103010010223321130110010223321130111001022 33211301111001022332130100110223321030110011022332113011100110223321130111100110 22332130100111022332130110011102233210301110011102233211301111001110223321301001 11102233213011001111022332130111001111022332103011110011110223321301110011110223 32103011110011110223321301001111102233211301111000223321130111110011110223321301 10011102233211301100102233211301111100102233210301110011102233210301110011102233 21130100022332032100322332103000022332100302321300002233210030232113000022332103 01111001111022332100302321301111001111022332100302321130111100111102233210301111 11001111110223321003023213011111100111111022332100302321130111111001111110223321 03011001102233210030232130110011022332100302321130110011022332103011100111022332 10030232130111001110223321003023211301110011102233210030232103011100111111111102 23321301110011111111110223321003023211301110011111111110223321003023210301111100 11111110223321301111100111111102233210030232113011111001111111022332100302321030 10011022332130100110223321003023211301001102233210030232103000111110223321300011 11102233210030232113000111110223321003023210301111111100111111111111110223321301 11111110011111111111111022332100302321130111111110011111111111111022332100302321 03011111111111001111110223321130111111111110011111102233210030232130111111111110 01111110223321003023210301111111111110011022332113011111111111100110223321003023 21301111111111110011022332100302321030111111111100111111102233211301111111111001 11111102233210030232130111111111100111111102233210030232103011110002233211301111 00022332100302321301111000223321003023210301111111111111111001111111110223321130 11111111111111110011111111102233210030232130111111111111111100111111111022332032 10103223321030110023210103000110223321030111110023210103011110010223321030110023 21010301100022332103011110023210103000111102233210301111002321010301110010223321 03011100232101030100110223321030002321010300002233210301111002321010301111000223 32103011100232101030110010223321030111100232101030111100022332032101132233210300 02321011301100110223321030111100232101130111110010223321030110023210113011000223 32103000232101130111100111102233210301110023210113011110010223321030100232101130 11100110223321030002321011300002233210301111002321011301111000223321030110023210 11301110010223321030111100232101130111100022332032100132233210300023210013000022 33210300023210013000102233210300023210013000110223321030002321001300011102233210 30002321001301000223321030100232100130100102233210301100232100130100110223321030 11100232100130100111022332103000232100130110002233210301100232100130110010223321 03011110023210013011001102233210301111110023210013011001110223321030002321001301 11000223321030111002321001301110010223321030111111002321001301110011022332103011 11111110023210013011100111022332103000232100130001022332103011100232100130111001 02233210300023210013011000223321030002321001300011102233210301110023210013011100 10223321030110023210013010011022332103000232100130000223321030002321001301110002 23321030002321001301100022332103000232100130111000223321032130102233210321030110 22332103210030111102233210321000301111111102233210321000030111111111111111102233 21032030022332103213010223321032103011022332103211301110223321032100301111022332 10321013011111022332103211030111111022332103211130111111102233210321000301111111 10223321032100130111111111022332103210103011111111110223321032101130111111111110 22332103211003011111111111102233210321101301111111111111022332103211103011111111 11111102233210321111301111111111111110223321032030022332103211130111111102233210 32110130111111111111102233210321013011111022332103210013011111111102233210320300 22332103211301110223321032111130111111111111111022332103211003011111111111102233 21032101301111102233210321013011111022332103210013011111111102233210321030110223 32103213010223321032111130111111111111111022332103210301102233210301111100232101 03011110010223321032101302321010321003213223321030111111100232101030111111001022 33210321113023210103211032132233210301111100232101030111100102233210321013023210 10321003213223321030111100232101030001111022332103210030232101032032100322332103 01111111110023210103011111110011022332103210013023210103211132103223321030111111 11111002321010301111111001111022332103210113023210103211132100322332103011111111 11002321010301110011111110223321032101030232101032113211132233210301111110023210 10301111100102233210321103023210103210132132233210301111002321001301111001022332 10321003023210013210032132233210301111002321001301001111022332103210030232100132 13210032233210301111002321001301001111022332103210030232100132132100322332103011 11110023210013011001110223321032110302321001321032113223321030111111002321001301 10011102233210321103023210013210321132233210301111002321001301100110223321032100 30232100132103210322332103011111111100232100130111001110223321032100130232100132 11321132233210301111111111111111002321001301111001111022332103210000302321001321 00321003223321110321010032030232103221010033203223321110321010032130232103221010 03321322332111032101003210302321032210100332103223321110321010132030232103221010 13320322332111032101013213023210322101013321322332111032101013210302321032210101 33210322332111032101103203023210322101103320322332111032101103213023210322101103 32132233211103210110321030232103221011033210322332103203221110321010032032210100 33322332103203221110321010032030232101003322332103203023211103210100320302321010 03223321032101003023211103210100320321010032233210321013023211103210100320321013 22332103210130232111032101003203023211103210111321013023210111322332103210111302 32111032101003203023211103210111321013210111322332103213221110321010032132210100 33322332103213221110321010032130232101003322332103213023211103210100321302321010 03223321032101003023211103210100321321010032233210321013023211103210100321321013 22332103210130232111032101003213023211103210111321013023210111322332103210111302 32111032101003213023211103210111321013210111322332103210322111032101003210322101 00333223321032103221110321010032103023210100332233210321030232111032101003210302 32101003223321032101003023211103210100321032101003223321032101302321110321010032 10321013223321032101302321110321010032103023211103210111321013023210111322332103 21011130232111032101003210302321110321011132101321011132233210320322111032101013 20322101013332233210320322111032101013203023210101332233210320302321110321010132 03023210101322332103210101302321110321010132032101013223321032101302321110321010 13203210132233210321013023211103210101320302321110321011132101302321011132233210 32101113023211103210101320302321110321011132101321011132233210321322111032101013 21322101013332233210321322111032101013213023210101332233210321302321110321010132 13023210101322332103210101302321110321010132132101013223321032101302321110321010 13213210132233210321013023211103210101321302321110321011132101302321011132233210 32101113023211103210101321302321110321011132101321011132233210321032211103210101 32103221010133322332103210322111032101013210302321010133223321032103023211103210 10132103023210101322332103210101302321110321010132103210101322332103210130232111 03210101321032101322332103210130232111032101013210302321110321011132101302321011 13223321032101113023211103210101321030232111032101113210132101113223321032032211 10321011032032210110333223321032032211103210110320302321011033223321032030232111 03210110320302321011032233210321011030232111032101103203210110322332103210130232 11103210110320321013223321032101302321110321011032030232111032101113210130232101 11322332103210111302321110321011032030232111032101113210132101113223321032132211 10321011032132210110333223321032132211103210110321302321011033223321032130232111 03210110321302321011032233210321011030232111032101103213210110322332103210130232 11103210110321321013223321032101302321110321011032130232111032101113210130232101 11322332103210111302321110321011032130232111032101113210132101113223321032103221 11032101103210322101103332233210321032211103210110321030232101103322332103210302 32111032101103210302321011032233210321011030232111032101103210321011032233210321 01302321110321011032103210132233210321013023211103210110321030232111032101113210 13023210111322332103210111302321110321011032103023211103210111321013210111322332 11103210100322110032111003210133023210321013221010032103322332111032100000322110 03211000321013302321032101322100000321133223321110321110032211003211101321103302 32103211032211100321033223321110321111032211003210000032110330232103211032211110 32113322332111032110013221100321001103221001103330232103210322110013210332233211 10321011132211003211110322111103330232103211322101113211332233211103211001322110 03210000132210000133302321032103221100132103322332111032111013221100321010132210 10133302321032113221110132113322332111032110013221100321000003023210103221000003 32133023210321132211001321033223321110321111132211003210011030232101032210011033 21330232103210032211111321133223321110321000113221100321000013023210103221000013 32133023210321132210001132103322332111032100000322110032110103023210103221101033 21330232103210032210000032113322332111032100100322110032100101302321010322100101 33211033023210322100100321103321100322332103222110032100101302321010322100101332 11033211033211003223321110321001003221100321001013023210103221001013321003302321 03221001003203321003223321032221100321001013023210103221001013321003320332100322 33211103210010032211003210010130232101032210010133211003302321032210010032033211 00322332103222110032100101302321010322100101332110033203321100322332111032100100 32211003210010130232101032210010133211113302321032210010032103321000132233210322 21100321001013023210103221001013321111332103321000132233211103210011032211003210 01013023211003210010030232101032130232100132210010133221001003330232103221001103 21101321003321101013223321110321001103221100321001013023211003210010030232101032 13023210013221001013322100100333023210322210011032110133210033211010132233210322 21100321001013023211003210010030232101032130232100132210010133221001003332110132 10033211010132233210322221100321001013023211003210010030232101032130232100132210 01013322100100333211013321003321101013223321110321001103221100321001013023211003 21001003023210103213023210013221001013322100100333023210322100110321013211033211 11132233211103210011032211003210010130232110032100100302321010321302321001322100 10133221001003330232103222100110321013321103321111132233210322211003210010130232 11003210010030232101032130232100132210010133221001003332101321103321111132233210 32222110032100101302321100321001003023210103213023210013221001013322100100333210 13321103321111132233211103210011032211003210010130232110032100100302321010321302 32100132210010133221001003330232103221001103211132100033211100132233211103210011 03221100321001013023211003210010030232101032130232100132210010133221001003330232 10322210011032111332100033211100132233210322211003210010130232110032100100302321 01032130232100132210010133221001003332111321000332111001322332103222211003210010 13023211003210010030232101032130232100132210010133221001003332111332100033211100 13223321110321001103221100321001013023211003210010030232101032130232100132210010 13322100100333023210322100110321000321033210001322332111032100110322110032100101 30232110032100100302321010321302321001322100101332210010033302321032221001103210 00332103321000132233210322211003210010130232110032100100302321010321302321001322 10010133221001003332100032103321000132233210322221100321001013023211003210010030 23210103213023210013221001013322100100333210003321033210001322332111032100111322 11003210010130232110032100100302321100321001103023210322100110330232101032210010 13322100100333023210011132111132111032111013223321110321001113221100321001013023 21100321001003023211003210011030232103221001103302321010322100101332210010033302 32100111321013210003211013223321110321001113221100321001013023211003210010030232 11003210011030232103221001103302321010322100101332210010033302321001113211003211 11321101132233211103210011132211003210010130232110032100100302321100321001103023 21032210011033023210103221001013322100100333023210011132111032111032111003223321 11032100111322110032100101302321100321001003023211003210011030232103221001103302 32101032210010133221001003330232100111321000320321000322332111032100111322110032 10010130232110032100100302321100321001103023210322100110330232101032210010133221 00100333023210011132111132100132110003223321110321001113221100321001013023211003 21001003023211003210011030232103221001103302321010322100101332210010033302321001 11321011321111321101032233211103210011132211003210010130232110032100100302321100 32100110302321032210011033023210103221001013322100100333023210011132101321113211 00322332110132101000321010103223321032101010322101000332233211103210100132211003 21001013023210013221001013322100101333023210320322101001320332233211103210100132 21100321001013023210013221001013322100101333023210321000032210100132100332233211 10321010013221100321001013023210013221001013322100101333023210321000000322101001 32100033223321110321010013221100321001013023210013221001013322100101333023210321 00132210100132113322332110132101001302321100321001013023210013221001013322100101 33223321032210100132101332110013223321032210100132033203223321032210100132133213 22332103221010013210013321010001322332110132101010302321100321001013023210103221 00101332132233210322101010321113321000322332103221010103211332100322332103221010 10321133210032233210322101010321013321103223321032210301100110322113011110011032 23321032210301001032211301111110011110322332103221301110011110322103011111001111 10322332103221030111001110322103011110011110322332103221030111001110322103000032 23321032213011111100110322130111100110322332103221301111001032211300003223321032 21130001111103221030111001103223321032211301100111032211301111001111103223321032 21130110011111103221130100111111032233210030232103221130110011103221301001111032 23321003023210322103011110011103221301001103223321003023210322103011111001111032 21301100111103223321003023210322113011110011111103221030111001110322332100302321 03221030111001032211301111001032233210030232103221301110011111103221301111110011 03223321003023210322103011001103221130110011111032233210030232103221030111110011 11103221301111110011032233210030232103221030111001110322130111100111032233210030 23210322113011111001103221301111100111103223321101321010113213223321101321011003 20322332103221010113322103010010322332103221010113322103000032233210322101011332 21130111111100111110322332103221010113322103011111001111103223321032210101133221 03011110011110322332103221301111100111111032210101133223321032210301111100111110 32210101133223321032211301111111001111103221010113322332103221030110011032210101 13322332103221301110011111103221010113322332103221011003322130111110003223321032");
ctx.font = '30px Impact';
ctx.rotate(.1);
ctx.fillText("Awesome!", 50, 100);

var te = ctx.measureText('Awesome!');
ctx.strokeStyle = 'rgba(0,0,0,0.5)';
ctx.beginPath();
ctx.lineTo(50, 102);
ctx.lineTo(50 + te.width, 102);
ctx.stroke();

var fs = require('fs')
  , out = fs.createWriteStream(__dirname + '/text.png')
  , stream = canvas.pngStream();

stream.on('data', function(chunk){
  out.write(chunk);
});

stream.on('end', function(){
  console.log('saved png');
});

